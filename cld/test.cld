module  vpm$$_tables


define 	verb 		exit
	synonym 	quit
	routine 	vpm$$exit


define 	syntax 		set_disk_syntax
	routine 	vpm$$set_disk
        parameter       p1
			default
                        label = what
                        value (required, list, default = "1")
        parameter       p2
                        label = name
			value (required)
                        prompt = "name"
	qualifier 	tag
			value (required)
	qualifier 	active
	qualifier 	inactive
	disallow 	(<file>active.add or qqq) and ( w and ( q or any2 (s, w, r and q) or neg (p) ) ) or qqq

define 	syntax 		set_process_syntax
	routine 	vpm$$set_process
        parameter       p1, label = what, value (required)
        parameter       p2
                        label = name
			value (required)
                        prompt = "name"
	qualifier 	tag
			value (required)
	qualifier 	active
	qualifier 	inactive
	disallow 	any2 (active, inactive)


define 	type 		metric_type
	keyword 	gauge
	keyword 	rate
	keyword 	count

define 	syntax 		set_metric_syntax
	routine 	vpm$$set_metric
        parameter       p1
                        label = what
                        value (required)
        parameter       p2
                        label = metric
			value (required)
                        prompt = "metric"
	qualifier 	description
			value (required)
	qualifier 	alias
			value (required)
	qualifier 	unit
			value (required)
	qualifier 	per
			value (required)
	qualifier 	active
	qualifier 	inactive
	qualifier 	type
			value (required, type = metric_type, default = "1")
	disallow 	any2 (active, inactive)

define 	syntax 		set_node_syntax
	routine 	vpm$$set_node
        parameter       p1
                        label = what
                        value (required)
	parameter 	p2
			label = node
			prompt = "node"

define 	syntax 		set_uri_syntax
	routine 	vpm$$set_uri
        parameter       p1
                        label = what
                        value (required)
	parameter 	p2
			label = uri
			value (required)
			prompt = "uri"

define 	syntax 		set_interval_syntax
	routine 	vpm$$set_interval
        parameter       p1
                        label = what
                        value (required)
        parameter       p2
                        label = interval
                        value (	required, 
			      	type = $number, 
				list, 
				default = "0" )
                        prompt = "interval"

define 	syntax 		set_verify_syntax
	routine 	vpm$$set_verify
        parameter       p1
                        label = what
                        value (required)


define 	syntax 		set_noverify_syntax
	routine 	vpm$$set_noverify
        parameter       p1
                        label = what
                        value (required)


define 	type 		set_type
	keyword 	verify
			syntax = set_verify_syntax
	keyword 	noverify
			syntax = set_noverify_syntax
	keyword 	uri
			syntax = set_uri_syntax
	keyword 	interval
			syntax = set_interval_syntax
	keyword 	node
			syntax = set_node_syntax
	keyword 	metric
			syntax = set_metric_syntax
	keyword 	disk
			syntax = set_disk_syntax
	keyword 	process
			syntax = set_process_syntax

define 	verb 		set
	parameter 	p1
			label = what
			value (required, type = set_type)


define 	syntax 		show_disks_syntax
	routine 	vpm$$show_disks
        parameter       p1
                        label = what
                        value (required)

define 	syntax 		show_processes_syntax
	routine 	vpm$$show_processes
        parameter       p1
                        label = what
                        value (required)

define 	syntax 		show_metrics_syntax
	routine 	vpm$$show_metrics
        parameter       p1
                        label = what
                        value (required)
	parameter 	p2
			label = pattern
			prompt = "pattern"
	qualifier 	brief
	qualifier 	active

define  syntax 		show_node_syntax
	routine 	vpm$$show_node
        parameter       p1
                        label = what
                        value (required)

define 	syntax 		show_uri_syntax
	routine 	vpm$$show_uri
        parameter       p1
                        label = what
                        value (required)

define 	syntax 		show_interval_syntax
	routine 	vpm$$show_interval
        parameter       p1
                        label = what
                        value (required)

define 	type 		show_type
	keyword 	uri
			syntax = show_uri_syntax
	keyword 	interval
			syntax = show_interval_syntax
	keyword 	node
			syntax = show_node_syntax
	keyword 	metrics
			syntax = show_metrics_syntax
	keyword 	disks
			syntax = show_disks_syntax
	keyword 	processes
			syntax = show_processes_syntax

define 	verb 		show
	parameter 	p1
			label = what
			value (required, type = show_type)

define 	verb 		spawn
	synonym 	$
	routine 	vpm$$spawn
	parameter 	p1
			label = command
			value (required, type = $rest_of_line)
			prompt = "command"


define 	verb 		initialize
	routine 	vpm$$initialize


define 	verb 		echo
	routine 	vpm$$echo
	parameter 	p1
			label = string


define 	verb 		flush
	routine 	vpm$$flush


define 	verb 		collect
	routine 	vpm$$collect


define 	syntax 		reset_metrics_syntax
	routine 	vpm$$reset_metrics
        parameter       p1
                        label = what
                        value (required)

define 	syntax 		reset_disks_syntax
	routine 	vpm$$reset_disks
        parameter       p1
                        label = what
                        value (required)

define 	syntax 		reset_processes_syntax
	routine 	vpm$$reset_processes
        parameter       p1
                        label = what
                        value (required)

define 	type 		reset_type
	keyword 	metrics
			syntax = reset_metrics_syntax
	keyword 	disks
			syntax = reset_disks_syntax
	keyword 	processes
			syntax = reset_processes_syntax

define 	verb 		reset
        parameter       p1
                        label = what
                        value (required, type = reset_type)


define 	syntax 		add_disk_syntax
	routine 	vpm$$add_disk
        parameter       p1
                        label = what
                        value (required)
	parameter 	p2
			label = name
			value (required)
			prompt = "name"
	qualifier 	tag
			value (required)

define 	syntax 		add_process_syntax
	routine 	vpm$$add_process
        parameter       p1
                        label = what
                        value (required)
	parameter 	p2
			label = name
			value (required)
			prompt = "name"
	qualifier 	tag
			value (required)

define 	type 		add_type
	keyword 	disk
			syntax = add_disk_syntax
	keyword 	process
			syntax = add_process_syntax

define 	verb 		add
	parameter 	p1
			label = what
			value (required, type = add_type)


define 	syntax 		delete_disk_syntax
	routine 	vpm$$delete_disk
        parameter       p1
                        label = what
                        value (required)
	parameter 	p2
			label = name
			value (required)
			prompt = "name"

define 	syntax 		delete_process_syntax
	routine 	vpm$$delete_process
        parameter       p1
                        label = what
                        value (required)
	parameter 	p2
			label = name
			value (required)
			prompt = "name"

define 	type 		delete_type
	keyword 	disk
			syntax = delete_disk_syntax
	keyword 	process
			syntax = delete_process_syntax

define 	verb 		delete
        parameter       p1
                        label = what
                        value (required, type = delete_type)


define 	syntax 		publish_metrics_syntax
	routine 	vpm$$publish_metrics
        parameter       p1
                        label = what
                        value (required)
	parameter 	p2
			label = pattern
			prompt = "pattern"

define 	type 		publish_type
	keyword 	metrics
			syntax = publish_metrics_syntax

define 	verb 		publish
	parameter 	p1
                        label = what
                        value (required, type = publish_type)

