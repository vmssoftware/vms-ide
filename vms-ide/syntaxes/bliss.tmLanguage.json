{
    "$schema": "https://raw.githubusercontent.com/martinring/tmlanguage/master/tmlanguage.json"
    ,"name": "BLISS"
    ,"patterns": [
        {
            "include": "#module"
        }
        ,{
            "include": "#comment"
        }
        ,{
            "include": "#literals"
        }
    ]
    ,"repository": {
        "literals": {
            "patterns": [
                {
                    "include": "#string-literal"
                }
                ,{
                    "include": "#numeric-literal"
                }
            ]
        }
        ,"comment": {
            "patterns": [
                {
                    "include": "#line-comment"
                }
                ,{
                    "include": "#block-comment"
                }
            ]
        }
        ,"module": {
            "name": "bliss.module"
            ,"begin": "(?i)MODULE"
            ,"beginCaptures": {
                "0": {
                    "name": "keyword"
                }
            }
            ,"end": "(?i)ELUDOM"
            ,"endCaptures": {
                "0": {
                    "name": "keyword"
                }
            }
            ,"patterns": [
                {
                    "include": "#module-head"
                }
                ,{
                    "include": "#comment"
                }
                ,{
                    "match": "\\S+"
                    ,"name": "invalid.illegal"
                }
            ]
        }
        ,"module-head": {
            "begin": "(?i)[a-z$_][a-z$_0-9]*"
            ,"beginCaptures": {
                "0": {
                    "name": "bliss.modulename"
                }
            }
            ,"end": "(?i)(?=ELUDOM)"
            ,"patterns": [
                {
                    "include": "#module-head-switches"
                }
                ,{
                    "include": "#module-body"
                }
            ]
        }
        ,"module-head-switches": {
            "begin": "\\("
            ,"end": "(?i)(?=ELUDOM)"
            ,"patterns": [
                {
                    "begin": "\\G"
                    ,"end": "\\)"
                    ,"contentName": "bliss.module.head.switches"
                    ,"patterns": [
                        {
                            "include": "#module-head-switches-on-off-switch"
                        }
                        ,{
                            "include": "#module-head-switches-special-switch"
                        }
                    ]
                }
                ,{
                    "begin": "="
                    ,"end": "(?i)(?=ELUDOM)"
                    ,"patterns": [
                        {
                            "include": "#module-body"
                        }
                    ]
                }
            ]
        }
        ,"module-head-switches-on-off-switch": {
            "match": "(?i)CODE|NOCODE|DEBUG|NODEBUG|ERRS|NOERRS|OPTIMIZE|NOOPTIMIZE|SAFE|NOSAFE|UNAMES|NOUNAMES|ZIP|NOZIP"
            ,"name": "keyword"
        }
        ,"module-head-switches-special-switch": {
            "patterns": [
                {
                    "begin": "(?i)IDENT"
                    ,"end": ""
                    ,"patterns": [
                        {
                            "include": "#string"
                        }
                    ]
                }
            ]
        }
        ,"module-head-switches-common-switch": {
            "match": "(?i)IDENT|LANGUAGE|LINKAGE|LIST|STRUCTURE|MAIN|OPTLEVEL|VERSION"
            ,"name": "keyword"
        }
        ,"module-head-switches-language": {
            "match": "(?i)COMMON|BLISS16|BLISS32|BLISS36"
            ,"name": "keyword"
        }
        ,"module-head-switches-list-option": {
            "match": "(?i)SOURCE|NOSOURCE|REQUIRE|NOREQUIRE|EXPAND|NOEXPAND|TRACE|NOTRACE|LIBRARY|NOLIBRARY|OBJECT|NOOBJECT|ASSEMBLY|NOASSEMBLY|SYMBOLIC|NOSYMBOLIC|BINARY|NOBINARY|COMMENTARY|NOCOMMENTARY"
            ,"name": "keyword"
        }

        ,"module-body": {
            "begin": "(?i)begin"
            ,"end": "(?i)end"
            ,"contentName": "bliss.module.body"
            ,"patterns": [
                {
                    "include": ""
                }
            ]
        }

        ,"string": {
            "begin": "'"
            ,"end": "'(?=[^'])"
            ,"patterns": [
                {
                    "match": "''"
                }
            ]
        }

        ,"string-literal": {
            "name": "bliss.string.literal"
            ,"begin": "(?i)(?=%(ASCII|ASCIZ|ASCIC|ASCID|RAD50_11|RAD50_10|SIXBIT|P))"
            ,"end": "(?<=')"
            ,"patterns": [
                {
                    "begin": "(?i)\\G%(ASCII|ASCIZ|ASCIC|ASCID|RAD50_11|RAD50_10|SIXBIT|P)"
                    ,"beginCaptures": {
                        "0": {
                            "name": "string.other"
                        }
                    }
                    ,"end": "(?=')"
                    ,"patterns": [
                        {
                            "include": "#illegal-up-to-comma"
                        }
                    ]
                }
                ,{
                    "begin": "(?=')"
                    ,"end": "(?<=')"
                    ,"contentName": "string"
                    ,"patterns": [
                        {
                            "include": "#string"
                        }
                    ]
                }
            ]
        }

        ,"numeric-literal": {
            "name": "bliss.numeric.literal"
            ,"begin": "(?i)(?=%(B|O|DECIMAL|X|C|E|D|G|H))"
            ,"end": "(?<=')"
            ,"patterns": [
                {
                    "begin": "(?i)\\G(?=%B)"
                    ,"name": "constant.numeric.bin"
                    ,"end": "(?<=')"
                    ,"patterns": [
                        {
                            "begin": "(?i)\\G%B"
                            ,"end": "(?=')"
                            ,"patterns": [
                                {
                                    "include": "#illegal-up-to-comma"
                                }
                            ]
                        }
                        ,{
                            "begin": "'"
                            ,"end": "'"
                            ,"patterns": [
                                {
                                    "begin": "(?=(\\+|\\-))"
                                    ,"end": "(?=')"
                                    ,"patterns": [
                                        {
                                            "begin": "\\G(\\+|\\-)"
                                            ,"end": "(?=')"
                                            ,"patterns": [
                                                {
                                                    "include": "#binary-only-up-to-comma"
                                                }
                                                ,{
                                                    "include": "#illegal-up-to-comma"
                                                }
                                            ]
                                        }
                                        ,{
                                            "include": "#illegal-up-to-comma"
                                        }
                                    ]
                                }
                                ,{
                                    "include": "#binary-only-up-to-comma"
                                }
                                ,{
                                    "include": "#illegal-up-to-comma"
                                }
                            ]
                        }
                    ]
                }
                ,{
                    "begin": "(?i)\\G(?=%O)"
                    ,"name": "constant.numeric.oct"
                    ,"end": "(?<=')"
                    ,"patterns": [
                        {
                            "begin": "(?i)\\G%O"
                            ,"end": "(?=')"
                            ,"patterns": [
                                {
                                    "include": "#illegal-up-to-comma"
                                }
                            ]
                        }
                        ,{
                            "begin": "'"
                            ,"end": "'"
                            ,"patterns": [
                                {
                                    "begin": "(?=(\\+|\\-))"
                                    ,"end": "(?=')"
                                    ,"patterns": [
                                        {
                                            "begin": "\\G(\\+|\\-)"
                                            ,"end": "(?=')"
                                            ,"patterns": [
                                                {
                                                    "include": "#octal-only-up-to-comma"
                                                }
                                                ,{
                                                    "include": "#illegal-up-to-comma"
                                                }
                                            ]
                                        }
                                        ,{
                                            "include": "#illegal-up-to-comma"
                                        }
                                    ]
                                }
                                ,{
                                    "include": "#octal-only-up-to-comma"
                                }
                                ,{
                                    "include": "#illegal-up-to-comma"
                                }
                            ]
                        }
                    ]
                }
                ,{
                    "begin": "(?i)\\G(?=%DECIMAL)"
                    ,"name": "constant.numeric.dec"
                    ,"end": "(?<=')"
                    ,"patterns": [
                        {
                            "begin": "(?i)\\G%DECIMAL"
                            ,"end": "(?=')"
                            ,"patterns": [
                                {
                                    "include": "#illegal-up-to-comma"
                                }
                            ]
                        }
                        ,{
                            "begin": "'"
                            ,"end": "'"
                            ,"patterns": [
                                {
                                    "begin": "(?=(\\+|\\-))"
                                    ,"end": "(?=')"
                                    ,"patterns": [
                                        {
                                            "begin": "\\G(\\+|\\-)"
                                            ,"end": "(?=')"
                                            ,"patterns": [
                                                {
                                                    "include": "#decimal-only-up-to-comma"
                                                }
                                                ,{
                                                    "include": "#illegal-up-to-comma"
                                                }
                                            ]
                                        }
                                        ,{
                                            "include": "#illegal-up-to-comma"
                                        }
                                    ]
                                }
                                ,{
                                    "include": "#decimal-only-up-to-comma"
                                }
                                ,{
                                    "include": "#illegal-up-to-comma"
                                }
                            ]
                        }
                    ]
                }
                ,{
                    "begin": "(?i)\\G(?=%X)"
                    ,"name": "constant.numeric.hex"
                    ,"end": "(?<=')"
                    ,"patterns": [
                        {
                            "begin": "(?i)\\G%X"
                            ,"end": "(?=')"
                            ,"patterns": [
                                {
                                    "include": "#illegal-up-to-comma"
                                }
                            ]
                        }
                        ,{
                            "begin": "'"
                            ,"end": "'"
                            ,"patterns": [
                                {
                                    "begin": "(?=(\\+|\\-))"
                                    ,"end": "(?=')"
                                    ,"patterns": [
                                        {
                                            "begin": "\\G(\\+|\\-)"
                                            ,"end": "(?=')"
                                            ,"patterns": [
                                                {
                                                    "include": "#hex-only-up-to-comma"
                                                }
                                                ,{
                                                    "include": "#illegal-up-to-comma"
                                                }
                                            ]
                                        }
                                        ,{
                                            "include": "#illegal-up-to-comma"
                                        }
                                    ]
                                }
                                ,{
                                    "include": "#hex-only-up-to-comma"
                                }
                                ,{
                                    "include": "#illegal-up-to-comma"
                                }
                            ]
                        }
                    ]
                }
                ,{
                    "begin": "(?i)\\G(?=%C)"
                    ,"name": "constant.numeric.char"
                    ,"end": "(?<=')"
                    ,"patterns": [
                        {
                            "begin": "(?i)\\G%C"
                            ,"end": "(?=')"
                            ,"patterns": [
                                {
                                    "include": "#illegal-up-to-comma"
                                }
                            ]
                        }
                        ,{
                            "include": "#string"
                        }
                    ]
                }
                ,{
                    "begin": "(?i)\\G(?=%E)"
                    ,"name": "constant.numeric.spfl"
                    ,"end": "(?<=')"
                    ,"patterns": [
                        {
                            "begin": "(?i)\\G%E"
                            ,"end": "(?=')"
                            ,"patterns": [
                                {
                                    "include": "#illegal-up-to-comma"
                                }
                            ]
                        }
                        ,{
                            "begin": "'"
                            ,"end": "'"
                            ,"patterns": [
                                {
                                    "begin": "(?=(\\+|\\-))"
                                    ,"end": "(?=')"
                                    ,"patterns": [
                                        {
                                            "begin": "\\G(\\+|\\-)"
                                            ,"beginCaptures": {
                                                "0": {
                                                    "name": "bliss.spfl.mantissa.sign"
                                                }
                                            }
                                            ,"end": "(?=')"
                                            ,"patterns": [
                                                {
                                                    "include": "#spfl-up-to-comma"
                                                }
                                                ,{
                                                    "include": "#illegal-up-to-comma"
                                                }
                                            ]
                                        }
                                        ,{
                                            "include": "#illegal-up-to-comma"
                                        }
                                    ]
                                }
                                ,{
                                    "include": "#spfl-up-to-comma"
                                }
                                ,{
                                    "include": "#illegal-up-to-comma"
                                }
                            ]
                        }
                    ]
                }
            ]
        }
        ,"binary-only-up-to-comma": {
            "begin": "(?=[01])"
            ,"end": "(?=')"
            ,"patterns": [
                {
                    "match": "\\G[01]+"
                }
                ,{
                    "include": "#illegal-up-to-comma"
                }
            ]
        }
        ,"octal-only-up-to-comma": {
            "begin": "(?=[0-7])"
            ,"end": "(?=')"
            ,"patterns": [
                {
                    "match": "\\G[0-7]+"
                }
                ,{
                    "include": "#illegal-up-to-comma"
                }
            ]
        }
        ,"decimal-only-up-to-comma": {
            "begin": "(?=[0-9])"
            ,"end": "(?=')"
            ,"patterns": [
                {
                    "match": "\\G[0-9]+"
                }
                ,{
                    "include": "#illegal-up-to-comma"
                }
            ]
        }
        ,"hex-only-up-to-comma": {
            "begin": "(?i)(?=[0-9a-f])"
            ,"end": "(?=')"
            ,"patterns": [
                {
                    "match": "(?i)\\G[0-9a-f]+"
                }
                ,{
                    "include": "#illegal-up-to-comma"
                }
            ]
        }
        ,"spfl-up-to-comma": {
            "begin": "([0-9]*\\.)?[0-9]+"
            ,"beginCaptures": {
                "0": {
                    "name": "bliss.spfl.mantissa"
                }
            }
            ,"end": "(?=')"
            ,"patterns": [
                {
                    "begin": "(?i)(?=E)"
                    ,"end": "(?=')"
                    ,"patterns": [
                        {
                            "begin": "(?i)E"
                            ,"beginCaptures": {
                                "0": {
                                    "name": "markup.bold"
                                }
                            }
                            ,"contentName": "bliss.spfl.exponent"
                            ,"end": "(?=')"
                            ,"patterns": [
                                {
                                    "include": "#signed-decimal-up-to-comma"
                                }
                                ,{
                                    "include": "#decimal-only-up-to-comma"
                                }
                                ,{
                                    "include": "#illegal-up-to-comma"
                                }
                            ]
                        }
                        ,{
                            "include": "#illegal-up-to-comma"
                        }
                    ]
                }
                ,{
                    "include": "#illegal-up-to-comma"
                }
            ]
        }
        ,"signed-decimal-up-to-comma": {
            "begin": "(?=(\\+|\\-))"
            ,"end": "(?=')"
            ,"patterns": [
                {
                    "begin": "\\G(\\+|\\-)"
                    ,"end": "(?=')"
                    ,"patterns": [
                        {
                            "include": "#decimal-only-up-to-comma"
                        }
                        ,{
                            "include": "#illegal-up-to-comma"
                        }
                    ]
                }
                ,{
                    "include": "#illegal-up-to-comma"
                }
            ]
        }
        ,"illegal-up-to-comma": {
            "match": "[^'\\s]+"
            ,"name": "invalid.illegal"
        }



        ,"line-comment": {
            "name": "comment.line"
            ,"begin": "!"
            ,"end": "\\n"
        }
        ,"block-comment": {
            "name": "comment.block"
            ,"begin": "%\\("
            ,"end": "\\)%"
        }
        ,"allocation-unit": {
            "name": "bliss.allocation.unit"
            ,"match": "(?i)LONG|WORD|BYTE"
            ,"captures": {
                "0": {
                    "name": "keyword.control"
                }
            }
        }
        ,"extension-attribute": {
            "name": "bliss.extension.attribute"
            ,"match": "(?i)UNSIGNED|SIGNED"
        }


        ,"bliss-expression": {
            "patterns": [
                {
                    "include": "#primary"
                }
                ,{
                    "include": "#operator-expression"
                }
                ,{
                    "include": "#executable-function"
                }
                ,{
                    "include": "#control-expression"
                }
            ]
        }
        ,"primary": {
            "patterns": [
                {
                    "include": "#numeric-literal"
                }
                ,{
                    "include": "#string-literal"
                }
                ,{
                    "include": "#plit"
                }
                ,{
                    "include": "#name"
                }
                ,{
                    "include": "#block"
                }
                ,{
                    "include": "#structure-reference"
                }
                ,{
                    "include": "#routine-call"
                }
                ,{
                    "include": "#field-reference"
                }
                ,{
                    "include": "#codecomment"
                }
            ]
        }

        ,"decimal-literal": {
            "match": "(?i)(\\+|\\-)?\\s*(?<![a-z$_])[0-9]+"
            ,"name": "constant.numeric.dec"
        }
        ,"binary-literal": {
            "match": "(\\+|\\-)?\\s*[01]+"
            ,"name": "constant.numeric.bin"
        }
        ,"octal-literal": {
            "match": "(\\+|\\-)?\\s*[0-7]+"
            ,"name": "constant.numeric.oct"
        }
        ,"hex-literal": {
            "match": "(?i)(\\+|\\-)?\\s*[0-9A-F]+"
            ,"name": "constant.numeric.hex"
        }
        ,"integer-literal": {
            "patterns": [
                {
                    "include": "#integer-literal-bin"
                }
                ,{
                    "include": "#integer-literal-oct"
                }
                ,{
                    "include": "#integer-literal-dec"
                }
                ,{
                    "include": "#integer-literal-hex"
                }
            ]
        }
        ,"integer-literal-bin": {
            "name": "constant.numeric"
            ,"begin": "(?i)%B\\s*'"
            ,"end": "'"
            ,"patterns": [
                {
                    "include": "#binary-literal"
                }
                ,{
                    "match": "."
                    ,"name": "invalid.illegal"
                }
            ]
        }
        ,"integer-literal-oct": {
            "name": "constant.numeric"
            ,"begin": "(?i)%O\\s*'"
            ,"end": "'"
            ,"patterns": [
                {
                    "include": "#octal-literal"
                }
                ,{
                    "match": "."
                    ,"name": "invalid.illegal"
                }
            ]
        }
        ,"integer-literal-dec": {
            "name": "constant.numeric"
            ,"begin": "(?i)%DECIMAL\\s*'"
            ,"end": "'"
            ,"patterns": [
                {
                    "include": "#decimal-literal"
                }
                ,{
                    "match": "."
                    ,"name": "invalid.illegal"
                }
            ]
        }
        ,"integer-literal-hex": {
            "name": "constant.numeric"
            ,"begin": "(?i)%X\\s*'"
            ,"end": "'"
            ,"patterns": [
                {
                    "include": "#hex-literal"
                }
                ,{
                    "match": "."
                    ,"name": "invalid.illegal"
                }
            ]
        }
        ,"character-code-literal": {
            "name": "constant.numeric"
            ,"begin": "(?i)%C\\s*'"
            ,"end": "'(?=[^'])"
            ,"patterns": [
                {
                    "match": "''"
                    ,"name": "constant.numeric.double"
                }
            ]
       }
       ,"float-literal": {
            "patterns": [
                {
                    "include": "#single-precision-float-literal"
                }
                ,{
                    "include": "#double-precision-float-literal"
                }
                ,{
                    "include": "#extended-doubleprecision-float-literal"
                }
                ,{
                    "include": "#extended-extendedprecision-float-literal"
                }
            ]
        }
        ,"single-precision-float-literal": {
            "name": "constant.numeric.spfp"
            ,"begin": "(?i)%E\\s*'"
            ,"end": "'"
            ,"patterns": [
                {
                    "match": "(?i)E"
                    ,"name": "constant.numeric.exp.lit"
                }
                ,{
                    "include": "#decimal-literal"
                }
                ,{
                    "match": "\\."
                    ,"name": "constant.numeric.dot"
                }
                ,{
                    "match": "."
                    ,"name": "invalid.illegal"
                }
            ]
       }
       ,"double-precision-float-literal": {
            "name": "constant.numeric.dpfp"
            ,"begin": "(?i)%D\\s*'"
            ,"end": "'"
            ,"patterns": [
                {
                    "match": "(?i)D"
                    ,"name": "constant.numeric.exp.lit"
                }
                ,{
                    "include": "#decimal-literal"
                }
                ,{
                    "match": "\\."
                    ,"name": "constant.numeric.dot"
                }
                ,{
                    "match": "."
                    ,"name": "invalid.illegal"
                }
            ]
        }
        ,"extended-doubleprecision-float-literal": {
            "name": "constant.numeric.edpfp"
            ,"begin": "(?i)%G\\s*'"
            ,"end": "'"
            ,"patterns": [
                {
                    "match": "(?i)G|Q"
                    ,"name": "constant.numeric.exp.lit"
                }
                ,{
                    "include": "#decimal-literal"
                }
                ,{
                    "match": "\\."
                    ,"name": "constant.numeric.dot"
                }
                ,{
                    "match": "."
                    ,"name": "invalid.illegal"
                }
            ]
        }
        ,"extended-extendedprecision-float-literal": {
            "name": "constant.numeric.eepfp"
            ,"begin": "(?i)%H\\s*'"
            ,"end": "'"
            ,"patterns": [
                {
                    "match": "(?i)Q"
                    ,"name": "constant.numeric.exp.lit"
                }
                ,{
                    "include": "#decimal-literal"
                }
                ,{
                    "match": "\\."
                    ,"name": "constant.numeric.dot"
                }
                ,{
                    "match": "."
                    ,"name": "invalid.illegal"
                }
            ]
        }
        ,"plit": {
            "name": "bliss.plit"
            ,"begin": "(?i)U?PLIT"
            ,"beginCaptures": {
                "0": {
                    "name": "keyword"
                }
            }
            ,"end": "\\)"
            ,"patterns": [
                {
                    "include": "#plit-psect"
                }
                ,{
                    "include": "#allocation-unit"
                }
                ,{
                    "include": "#plit-items"
                }
            ]
        }
        ,"plit-psect": {
            "name": "bliss.psect"
            ,"begin": "(?i)PSECT"
            ,"beginCaptures": {
                "0": {
                    "name": "storage.modifier"
                }
            }
            ,"end": "\\)"
            ,"patterns": [
                {
                    "begin": "\\("
                    ,"end": "(?=\\))"
                    ,"patterns": [
                        {
                            "include": "#name"
                        }
                    ]
                }
            ]
        }
        ,"plit-items": {
            "begin": "\\("
            ,"end": "(?=\\))"
            ,"contentName": "bliss.plititems"
            ,"patterns": [
                {
                    "include": "#allocation-unit"
                }
                ,{
                    "include": "#plit-rep"
                }
                ,{
                    "include": "#string-literal"
                }
                ,{
                    "include": "#name"
                }
                ,{
                    "include": "#plit-items-inner"
                }
            ]
        }
        ,"plit-items-inner": {
            "begin": "\\("
            ,"end": "\\)"
            ,"contentName": "bliss.plititems"
            ,"patterns": [
                {
                    "include": "#allocation-unit"
                }
                ,{
                    "include": "#plit-rep"
                }
                ,{
                    "include": "#string-literal"
                }
                ,{
                    "include": "#name"
                }
                ,{
                    "include": "#plit-items-inner"
                }
            ]
        }
        ,"plit-rep": {
            "begin": "(?i)REP"
            ,"beginCaptures": {
                "0": {
                    "name": "keyword"
                }
            }
            ,"end": "(?i)OF"
            ,"endCaptures": {
                "0": {
                    "name": "keyword"
                }
            }
            ,"contentName": "bliss.replicator"
            ,"patterns": [
                {
                    "include": "#numeric-literal"
                }
            ]
        }
        ,"name": {
            "match": "(?i)[a-z$_][a-z$_0-9]*"
            ,"name": "bliss.name"
        }
        ,"standard-function": {

        }
        ,"predeclared-name": {
            "match": "(?i)ABS|BITVECTOR|BLISS36C|BLISS10|BLISS|BLOCKVECTOR|BLOCK|"
            ,"name": "bliss.name.predeclared"
        }
    }
    ,"scopeName": "source.bliss"
}