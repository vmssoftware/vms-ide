{
	"$schema": "https://raw.githubusercontent.com/martinring/tmlanguage/master/tmlanguage.json",
	"name": "MSG",
	"patterns": 
	[
		{
			"include": "#title"
		},
		{
			"include": "#ident"
		},
		{
			"include": "#facility"
		},
		{
			"include": "#page"
		}
	],
	"repository": 
	{
		"title": 
		{
			"patterns": 
			[
				{
					"comment": "one line command, without begin-end",
					"name": "msg.title",
					"match" : "(?i)\\.title\\s+([a-z$_][a-z$_0-9]{,30})(\\s+(\\S.{,27})(.*))",
					"captures": 
					{
						"1":
						{
							"name": "msg.modname"
						},
						"3":
						{
							"name": "msg.listing-title"
						},
						"4":
						{
							"name": "invalid.illegal"
						}
					}
				}
			]
		},
		"ident": 
		{
			"patterns": 
			[
				{
					"name": "msg.ident",
					"begin": "(?i)\\.ident",
					"end": "(?i)(?=(\\.facility|\\.severity|\\.base|\\.end|\\.literal|\\.ident|\\.title|\\.page))",
					"patterns": 
					[
						{
							"name": "msg.ident.identifier",
							"match": "(?i)([a-z$_][a-z$_0-9]{,30})"
						},
						{
							"include": "#string"
						},
						{
							"name": "invalid.illegal",
							"match": "(?<!\\G).*"
						}
					]
				}
			]
		},
		"facility": 
		{
			"patterns": 
			[
				{
					"name": "msg.facility",
					"begin": "(?i)\\.facility\\s",
					"end" : "(?i)((?=\\.facility\\s)|(\\.end))"
				}
			]
		},
		"page": 
		{
			"patterns": 
			[
				{
					"name": "msg.page",
					"match": "(?i)\\.page"
				}
			]
		},
		"string": 
		{
			"name": "msg.string.$1",
			"begin": "(\"|')",
			"beginCaptures": 
			{
				"1":
				{
					"name": "msg.punctuation.string.open"
				}
			},
			"end": "(\\1)",
			"endCaptures": 
			{
				"1":
				{
					"name": "msg.punctuation.string.close"
				}
			},
			"patterns": 
			[
				{
					"name": "msg.string.fao",
					"match": "\\![A-Z][A-Z]"
				}
			]
		},
		"zstring": 
		{
			"name": "msg.zstring.$1",
			"begin": "(0)",
			"beginCaptures": 
			{
				"1":
				{
					"name": "msg.punctuation.zstring.open"
				}
			},
			"end": "(\\1)",
			"endCaptures": 
			{
				"1":
				{
					"name": "msg.punctuation.zstring.close"
				}
			},
			"patterns": 
			[
				{
					"name": "msg.string.zfao",
					"match": "\\![A-Z][A-Z]"
				}
			]
		},
		"comment": 
		{
			"patterns": 
			[
				{
					"name": "comment"
				}
			]
		}
	},
	"scopeName": "source.msg"
}